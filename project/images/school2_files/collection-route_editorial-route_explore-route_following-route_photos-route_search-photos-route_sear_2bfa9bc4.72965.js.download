(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"6Dux":function(o,e,t){"use strict";t.d(e,"a",(function(){return r}));const r=o=>e=>o.username===e.username},BUGo:function(o,e,t){o.exports={colorWhite:"#fff",colorGrey400:"#d1d1d1",colorGrey700:"#767676",colorBlack:"#111",colorBlue:"#007fff",colorDarkBlue:"#006aff",followButton:"_3nDcb",isFollowing:"_2br-F",followIcon:"_2BKrY"}},iX5W:function(o,e,t){"use strict";t.d(e,"a",(function(){return E}));var r=t("TSYQ"),l=t.n(r),s=t("7EGn"),n=t("bnCs"),c=t("q1tI"),a=t.n(c),i=t("/MKj"),u=t("b2r9"),b=t("acyj"),w=t("d8i8"),f=t("2Fwo"),p=t("GBJA");var d=Object(p.a)("M31.2 12.8h-2.4v-2.4c0-.4-.4-.8-.8-.8h-1.6c-.4 0-.8.4-.8.8v2.4h-2.4c-.4 0-.8.4-.8.8v1.6c0 .4.4.8.8.8h2.4v2.4c0 .4.4.8.8.8h1.6c.4 0 .8-.4.8-.8v-2.4h2.4c.4 0 .8-.4.8-.8v-1.6c0-.4-.4-.8-.8-.8zm-15.2 5.1v-1.2c1.9-1.1 3.2-3.1 3.2-5.5v-1.6c0-3.5-2.9-6.4-6.4-6.4s-6.4 2.9-6.4 6.4v1.6c0 2.4 1.3 4.4 3.2 5.5v1.2c-5.5.9-9.6 4-9.6 7.7v1.6c0 .9.7 1.6 1.6 1.6h22.4c.9 0 1.6-.7 1.6-1.6v-1.6c0-3.7-4.1-6.8-9.6-7.7z"),h=t("IQRp"),m=t("UR1/"),U=t("4YUS"),v=t("IVTL"),F=t("wmOD"),j=t("XqAV"),g=t("FXv3"),k=t("zrLP"),O=t("BUGo"),B=t.n(O);const C=Object(v.a)()({labelText:{isFollowing:"Following",isNotFollowing:"Follow"}});class T extends c.Component{componentWillUnmount(){Object(U.b)(this.followSubscription)&&this.followSubscription.unsubscribe()}getLabelText(){const{labelText:o}=this.props;return this.props.user.followed_by_user?o.isFollowing:o.isNotFollowing}buildToLink(){const{user:o}=this.props;return Object(w.a)(j.c.Login({value:j.b.Follow({value:{userId:o.id}})}))}buildClickHandler(){const{authUser:o,user:e,followUser:t,unfollowUser:r,trackFollowButtonClick:l,trackUnfollowButtonClick:s,setErrorFlash:n,buttonType:c}=this.props;if(!1===Object(U.b)(o))return()=>l(e.id,c);const{username:a}=e,i=e.followed_by_user,u=(i?b.a.users.unfollowUser:b.a.users.followUser)({username:a}).pipe(h.U(3),h.db(1));return o=>{o.stopPropagation(),i?(r({userId:e.id}),s(e.id,c)):(t({userId:e.id}),l(e.id,c)),this.followSubscription=u.subscribe({error:o=>{const e=Object(m.n)(o)?"You need to confirm your email to follow a user.":"There was an error following the user.";n({message:e})}})}}renderContainer(o){const{user:e,className:t,authUser:r}=this.props,s=this.buildClickHandler(),n=e.followed_by_user,c=!1===Object(U.b)(r),i=Object(v.a)()({className:l()(B.a.followButton,n&&B.a.isFollowing,t),buttonSize:"small"});return c?a.a.createElement(k.a,Object.assign({to:this.buildToLink(),onMouseUp:s},i),o):a.a.createElement(g.a,Object.assign({tag:"button",onMouseUp:s},i,{type:"button"}),o)}render(){const{user:o,authUser:e}=this.props;return Object(s.a)(e,"username")===o.username?a.a.createElement("div",null):this.renderContainer(a.a.createElement("span",null,a.a.createElement(d,{className:B.a.followIcon}),this.getLabelText()))}}const y={trackFollowButtonClick:u.A,trackUnfollowButtonClick:u.I,setErrorFlash:u.a.SetErrorFlash,followUser:u.a.FollowUser,unfollowUser:u.a.UnfollowUser};var E=Object(f.a)(Object(n.pipe)(()=>T,Object(i.c)(o=>({authUser:Object(F.b)(o)}),y))(),C)}}]);
//# sourceMappingURL=collection-route~editorial-route~explore-route~following-route~photos-route~search-photos-route~sear~2bfa9bc4.72965.js.map